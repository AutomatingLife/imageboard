extends ../layout.pug
include ../mixins/post.pug
include ../mixins/ban.pug

block head
	title Manage

block content
	include ../includes/boardheader.pug
	h4 Settings:
	section.form-wrapper
		form.form-post(action=`/forms/board/${board._id}/settings` method='POST' enctype='application/x-www-form-urlencoded')
			input(type='hidden' name='_csrf' value=csrf)
			section.postform-row
				.postform-label IDs
				label.postform-style.ph-5
					input(type='checkbox', name='ids', value='true' checked=board.settings.ids)
					| Show per-thread IDs
			section.postform-row
				.postform-label Force Anon
				label.postform-style.ph-5
					input(type='checkbox', name='force_anon', value='true' checked=board.settings.forceAnon)
					| Disable names and only allow sage email
			section.postform-row
				.postform-label Anon Name
				input(type='text' name='default_name' placeholder=board.settings.defaultName)
			section.postform-row
				.postform-label Thread Limit
				input(type='text' name='thread_limit' placeholder=board.settings.threadLimit)
			section.postform-row
				.postform-label Reply Limit
				input(type='text' name='reply_limit' placeholder=board.settings.replyLimit)
			section.postform-row
				.postform-label Max Images
				input(type='text' name='max_images' placeholder=board.settings.maxImages)
			input(type='submit', value='save settings')
	h4 Banners:
	include ../includes/bannerform.pug
	h4 Reports:
	form(action=`/forms/board/${board._id}/modactions` method='POST' enctype='application/x-www-form-urlencoded')
		input(type='hidden' name='_csrf' value=csrf)
		if reports.length === 0
			p No reports.
			hr(size=1)
		else
			for report in reports
				section.thread
					+post(report, false, true)
				hr(size=1)
			include ../includes/actionfooter_manage.pug
			hr(size=1)
	h4 Bans:
	form(action=`/forms/board/${board._id}/unban` method='POST' enctype='application/x-www-form-urlencoded')
		input(type='hidden' name='_csrf' value=csrf)
		if bans.length === 0
			p No bans.
			hr(size=1)
		else
			for ban in bans
				section.thread
					+ban(ban)
				hr(size=1)
			section.action-wrapper
				input(type='submit', value='unban')

