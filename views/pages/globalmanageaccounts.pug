extends ../layout.pug
include ../mixins/globalmanagenav.pug

block head
	script(src='/js/all.js')
	title Manage

block content
	h1.board-title Global Management
	br
	+globalmanagenav('accounts')
	hr(size=1)
	h4.no-m-p Accounts:
	.form-wrapper.flexleft
		form.form-post(action=`/forms/global/editaccounts` method='POST' enctype='application/x-www-form-urlencoded')
			input(type='hidden' name='_csrf' value=csrf)
			.table-container.flex-left
				table
					tr
						th
						th Username
						th Auth Level
						th Own Boards
						th Mod Boards
					for account in accounts
						tr
							td: input(type='checkbox', name='checkedaccounts' value=account._id)
							td #{account._id}
							td #{account.authLevel}
							td
								for b in account.ownedBoards
									a(href=`/${b}/index.html`) /#{b}/
									|  
							td
								for b in account.modBoards
									a(href=`/${b}/index.html`) /#{b}/
									|  
			.pages.mt-5
				include ../includes/pages.pug
			.row
				.label Delete Accounts
				label.postform-style.ph-5
					input(type='checkbox', name='delete_account', value='true')
			.row
				.label Set Auth Level
				input(type='number' name='auth_level')
			input(type='submit', value='apply')
